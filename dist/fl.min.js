/** v0.4 | Copyleft 2012. contact[at]diasbruno.com.br. **/var fl=function(){this.nullFN=function(){}};fl.MouseEvent={CLICK:"click",MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout"};fl.Py=function(d,c){return Math.sqrt((d*d)+(c*c))};fl.Point=function(a,b){this.x=a||0;this.y=b||0;this.add=function(c){this.x+=c.x;this.y+=c.y};this.subtract=function(c){this.x-=c.x;this.y-=c.y};this.distance=function(d){var e=d.x-this.x,c=d.y-this.y;return fl.Py(e,c)};this.length=function(){return fl.Py(this.x,this.y)};this.equal=function(c){return((this.x==c.x)&&(this.y==c.y))};this.clone=function(){return new fl.Point(this.x,this.y)};this.toString=function(){return"[P x: "+this.x+", y: "+this.y+"]"}};fl.Rect=function(b,d,c,a){this.x=b;this.y=d;this.width=c;this.height=a;this.scale=1;this.scale=function(e){if(e){this.scale=e;this.width*=s;this.height*=s}else{return this.scale}};this.clone=function(){return new fl.Rect(this.x,this.y,this.width,this.height)},this.toString=function(){return"[Rect x: "+this.x+", y: "+this.y+", width: "+this.width+", height: "+this.height+"]"}};fl.DisplayObject=function(f,l,g){var c=(f===null?"":f);var j=(l===null?"div":l);var h=(g===null?"":g);var b=function(m){var i=document.getElementById(m)||null;if(i){icss=(i.className===undefined)?"":i.className;itype=i.nodeName.toLowerCase();return i}return 0};var k=function(n,m,q){var p=document.createElement(m);p.id=n||null;p.className=q||null;return o};var a=function(m,i){if(d.style){if(m&&i){d.style[m]=i}else{return d.style[m]}}};var e=function(m){return(m.outerHTML!==undefined)?m.outerHTML:(function(q){var p=k("r"+(100*Math.random()),"div",""),i;p.appendChild(q.cloneNode(true));i=p.innerHTML;p=null;return i})(m)};var d=(function(n,m,q){var p=b(c);return(p!==0?p:k(n,m,q))})(c,j,h);this.id=function(){return c};this.type=function(){return j};this.css=function(){return h};this.dom=function(){return d};this.$id=function(){return"#"+c};this.$css=function(){return"."+h};this.addChild=function(i){if(i.html){d.appendChild(i.dom())}else{d.innerHTML+=i}};this.removeChild=function(i){d.removeChild(((i.dom)?i.dom():i))};this.alpha=function(i){if(i==null){return 1*a("opacity")}else{a("opacity",i)}};this.visible=function(i){if(i==null){return a("display")}else{a("display",i)}};this.x=function(i){if(i==null){return parseInt(a("left").replace("px",""))}else{a("left",i+"px")}};this.y=function(i){if(i==null){return parseInt(a("top").replace("px",""))}else{a("top",i+"px")}};this.width=function(i){if(i==null){return parseInt(a("width").replace("px",""))}else{a("width",i+"px")}};this.height=function(i){if(i==null){return parseInt(a("height").replace("px",""))}else{a("height",i+"px")}};this.rect=function(m){var i=(m!==null)?m:new fl.Rect();if(m===null){i.x=this.x();i.y=this.y();i.width=this.width();i.height=this.height();return i}else{this.x(i.x);this.y(i.y);this.width(i.width);this.height(i.height)}};this.addEventListener=function(i,m){d["on"+i]=m};this.removeEventListener=function(i,m){d["on"+i]=m||fl.nullFN};this.hasEventListener=function(i){return !!d["on"+i]};this.html=function(){return e(d)};this.toString=function(){return"[DisplayObject id: "+iid+", type: "+itype+", className: "+icss+"]"}};fl.Timeline=function(a){var b=this;b.label=a;b.layers=[];b.displayList=[];b.reset=fl.nullFN;b.play=fl.nullFN;b.create=function(){var f=b.layers,e,d=null,c;for(c in f){e=f[c];d=new fl.DisplayObject(e.id,e.type,e.className);b.displayList.push(d)}};this.toString=function(){return"[Timeline]"}};fl.Scene=function(c){var b=this,a=c||[],e=0,d=a.length;b.change=function(i){var g=e+1,h=a[e],f=a[g];if(g>d-1){f=a[(g=0)]}if(i!==undefined){i(h,f)}e=g};b.play=function(){var f=a[e];if(f.reset!==undefined){f.reset()}f.play()};return b};var fl=function(){this.nullFN=function(){}};fl.MouseEvent={CLICK:"click",MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout"};fl.Py=function(d,c){return Math.sqrt((d*d)+(c*c))};fl.Point=function(a,b){this.x=a||0;this.y=b||0;this.add=function(c){this.x+=c.x;this.y+=c.y};this.subtract=function(c){this.x-=c.x;this.y-=c.y};this.distance=function(d){var e=d.x-this.x,c=d.y-this.y;return fl.Py(e,c)};this.length=function(){return fl.Py(this.x,this.y)};this.equal=function(c){return((this.x==c.x)&&(this.y==c.y))};this.clone=function(){return new fl.Point(this.x,this.y)};this.toString=function(){return"[P x: "+this.x+", y: "+this.y+"]"}};fl.Rect=function(b,d,c,a){this.x=b;this.y=d;this.width=c;this.height=a;this.scale=1;this.scale=function(e){if(e){this.scale=e;this.width*=s;this.height*=s}else{return this.scale}};this.clone=function(){return new fl.Rect(this.x,this.y,this.width,this.height)},this.toString=function(){return"[Rect x: "+this.x+", y: "+this.y+", width: "+this.width+", height: "+this.height+"]"}};fl.DisplayObject=function(f,l,g){var c=(f===null?"":f);var j=(l===null?"div":l);var h=(g===null?"":g);var b=function(m){var i=document.getElementById(m)||null;if(i){icss=(i.className===undefined)?"":i.className;itype=i.nodeName.toLowerCase();return i}return 0};var k=function(n,m,q){var p=document.createElement(m);p.id=n||null;p.className=q||null;return o};var a=function(m,i){if(d.style){if(m&&i){d.style[m]=i}else{return d.style[m]}}};var e=function(m){return(m.outerHTML!==undefined)?m.outerHTML:(function(q){var p=k("r"+(100*Math.random()),"div",""),i;p.appendChild(q.cloneNode(true));i=p.innerHTML;p=null;return i})(m)};var d=(function(n,m,q){var p=b(c);return(p!==0?p:k(n,m,q))})(c,j,h);this.id=function(){return c};this.type=function(){return j};this.css=function(){return h};this.dom=function(){return d};this.$id=function(){return"#"+c};this.$css=function(){return"."+h};this.addChild=function(i){if(i.html){d.appendChild(i.dom())}else{d.innerHTML+=i}};this.removeChild=function(i){d.removeChild(((i.dom)?i.dom():i))};this.alpha=function(i){if(i==null){return 1*a("opacity")}else{a("opacity",i)}};this.visible=function(i){if(i==null){return a("display")}else{a("display",i)}};this.x=function(i){if(i==null){return parseInt(a("left").replace("px",""))}else{a("left",i+"px")}};this.y=function(i){if(i==null){return parseInt(a("top").replace("px",""))}else{a("top",i+"px")}};this.width=function(i){if(i==null){return parseInt(a("width").replace("px",""))}else{a("width",i+"px")}};this.height=function(i){if(i==null){return parseInt(a("height").replace("px",""))}else{a("height",i+"px")}};this.rect=function(m){var i=(m!==null)?m:new fl.Rect();if(m===null){i.x=this.x();i.y=this.y();i.width=this.width();i.height=this.height();return i}else{this.x(i.x);this.y(i.y);this.width(i.width);this.height(i.height)}};this.addEventListener=function(i,m){d["on"+i]=m};this.removeEventListener=function(i,m){d["on"+i]=m||fl.nullFN};this.hasEventListener=function(i){return !!d["on"+i]};this.html=function(){return e(d)};this.toString=function(){return"[DisplayObject id: "+iid+", type: "+itype+", className: "+icss+"]"}};fl.Timeline=function(a){var b=this;b.label=a;b.layers=[];b.displayList=[];b.reset=fl.nullFN;b.play=fl.nullFN;b.create=function(){var f=b.layers,e,d=null,c;for(c in f){e=f[c];d=new fl.DisplayObject(e.id,e.type,e.className);b.displayList.push(d)}};this.toString=function(){return"[Timeline]"}};fl.Scene=function(c){var b=this,a=c||[],e=0,d=a.length;b.change=function(i){var g=e+1,h=a[e],f=a[g];if(g>d-1){f=a[(g=0)]}if(i!==undefined){i(h,f)}e=g};b.play=function(){var f=a[e];if(f.reset!==undefined){f.reset()}f.play()};return b};